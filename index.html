<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุขููุฉ ุงูููู ุงูููููุงุฆู ูุงูุชุนููุถ ุงูุงุฌุชูุงุนู - ุงููููุฐุฌ ุงูุฑูุงุถู ุงูุฏููู</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { 
            --primary-blue: #2c3e50; 
            --accent-blue: #3498db; 
            --accent-red: #e74c3c; 
            --accent-green: #27ae60; 
            --accent-gold: #f39c12;
            --accent-purple: #9b59b6; 
            --accent-orange: #e67e22;
        }
        
        * { 
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif; 
            box-sizing: border-box; 
        }
        
        body { 
            background: linear-gradient(135deg, #f5f9fc 0%, #eef2f7 100%); 
            color: #333; 
            margin: 0; 
            padding: 20px; 
            line-height: 1.6; 
        }
        
        .container { 
            max-width: 1200px; 
            margin: 20px auto; 
            background: white; 
            padding: 30px; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
        }
        
        h1, h2, h3 { 
            color: var(--primary-blue); 
        }
        
        h1 { 
            text-align: center; 
            margin-bottom: 10px; 
            padding-bottom: 15px; 
            border-bottom: 3px solid var(--accent-blue); 
            font-size: 2.5em; 
            background: linear-gradient(to right, #2c3e50, #3498db); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 40px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        /* ุฃุฒุฑุงุฑ ุงููุบุฉ */
        .language-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .lang-btn {
            background: var(--accent-blue);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .lang-btn.active {
            background: var(--primary-blue);
            font-weight: bold;
        }
        
        .lang-btn:hover {
            background: #2980b9;
        }
        
        .chart-container { 
            position: relative; 
            height: 600px; 
            margin: 40px 0; 
            background: white; 
            padding: 20px; 
            border-radius: 15px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); 
        }
        
        .highlight-box { 
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
            padding: 25px; 
            border-radius: 15px; 
            border-right: 5px solid var(--accent-blue); 
            margin: 30px 0; 
        }
        
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 25px 0; 
            font-size: 0.95em; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
        }
        
        th { 
            background: linear-gradient(to right, var(--primary-blue), #34495e); 
            color: white; 
            padding: 15px; 
            text-align: center; 
            font-weight: 600; 
        }
        
        td { 
            padding: 12px 15px; 
            border-bottom: 1px solid #e0e0e0; 
            text-align: center; 
        }
        
        tr:hover { 
            background-color: #f5f9ff; 
        }
        
        .footnote { 
            font-size: 0.9em; 
            color: #95a5a6; 
            margin-top: 5px; 
            font-style: italic; 
        }
        
        .conclusion { 
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%); 
            padding: 20px; 
            border-radius: 10px; 
            margin-top: 30px; 
            border-left: 4px solid #ffc107; 
        }
        
        .methodology-section { 
            background: linear-gradient(135deg, #f1f8ff 0%, #e3f2fd 100%); 
            padding: 30px; 
            border-radius: 15px; 
            margin: 40px 0; 
            border: 2px solid #a3d0ff; 
        }
        
        .gsni-formula { 
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); 
            padding: 20px; 
            border-radius: 10px; 
            border-left: 4px solid var(--accent-purple); 
            margin: 20px 0; 
        }
        
        .dimension-label { 
            display: inline-block; 
            padding: 6px 15px; 
            border-radius: 20px; 
            font-size: 0.9em; 
            margin: 3px; 
            font-weight: 500; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
        }
        
        .key-finding { 
            background: linear-gradient(to right, #ffeaa7, #fab1a0); 
            padding: 15px; 
            border-radius: 10px; 
            margin: 15px 0; 
            border-left: 4px solid var(--accent-orange); 
        }
        
        .alert-box { 
            background: linear-gradient(to right, #ffebee, #ffcdd2); 
            padding: 15px; 
            border-radius: 10px; 
            margin: 15px 0; 
            border-left: 4px solid var(--accent-red); 
        }
        
        .dimension-breakdown { 
            margin: 20px 0; 
        }
        
        .dimension-item { 
            padding: 12px; 
            margin: 10px 0; 
            border-radius: 8px; 
            border-left: 5px solid; 
        }
        
        .chart-explanation { 
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px 0; 
            border-left: 4px solid var(--accent-blue); 
        }
        
        .axis-explanation { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 15px; 
            margin: 15px 0; 
        }
        
        .axis-item { 
            flex: 1; 
            min-width: 200px; 
            background: rgba(255, 255, 255, 0.7); 
            padding: 15px; 
            border-radius: 8px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
        }
        
        .color-indicator { 
            display: inline-block; 
            width: 20px; 
            height: 3px; 
            margin-left: 10px; 
            vertical-align: middle; 
        }
        
        .fixed-chart-container {
            flex: 1;
            min-width: 300px;
            text-align: center;
            position: relative;
            height: 350px;
        }
        
        .fixed-canvas-wrapper {
            position: relative;
            height: 250px;
            width: 100%;
            margin: 0 auto;
            max-width: 300px;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <h1 data-key="main_title">๐ง ุงููููุฐุฌ ุงูุฑูุงุถู ุงูุฏููู: ุงูููู ุงูููููุงุฆู ูุขููุฉ ุชุนููุถ ูุฌุชูุนู</h1>
        <p class="subtitle" data-key="subtitle">ุชุญููู ุซูุงุซู ุงูุฃุจุนุงุฏ (1990-2025) ููุซู ุงูุนูุงูุฉ ุงูุนูุณูุฉ ุงูุฑูุงุถูุฉ ุจูู ุงูููุงุฑ ุงูุฏุฎู ุงูุญูููู ุจุงูุฐูุจ ูุตุนูุฏ ูุคุดุฑ ุงูุชุฎุฏูุฑ ุงููุฌุชูุนู ุงูููุญุฏ (GSNI)</p>

        <!-- ุฃุฒุฑุงุฑ ุงุฎุชูุงุฑ ุงููุบุฉ -->
        <div class="language-selector">
            <button id="lang-ar" class="lang-btn active">ุงูุนุฑุจูุฉ</button>
            <button id="lang-fa" class="lang-btn">ูุงุฑุณ</button>
            <button id="lang-en" class="lang-btn">English</button>
            <button id="lang-fr" class="lang-btn">Franรงais</button>
            <button id="lang-zh" class="lang-btn">ไธญๆ</button>
        </div>

        <!-- ุฑุณู ุจูุงูู ุฑุฆูุณู -->
        <div class="chart-container">
            <canvas id="mainChart"></canvas>
        </div>

        <!-- ุชูุณูุฑ ุงููุญุงูุฑ -->
        <div class="chart-explanation">
            <h4 data-key="chart_explanation_title">๐ ุชูุณูุฑ ุงููุญุงูุฑ ูุงูุฑููุฒ:</h4>
            
            <div class="axis-explanation">
                <div class="axis-item">
                    <div style="display: flex; align-items: center; margin-bottom: 8px;">
                        <span class="color-indicator" style="background: #3498db;"></span>
                        <div><strong data-key="axis_wage">ุงูุฃุฌุฑ ุงููููู (ุงูุฎุท ุงูุฃุฒุฑู):</strong></div>
                    </div>
                    <div style="font-size: 0.9em; padding-right: 10px;" data-key="axis_wage_desc">
                        ููุงุณ ุจู <strong>ุบุฑุงู ุฐูุจ/ููู ุนูู</strong>.
                        ุงููููุฉ ุงูุธุงูุฑุฉ ูุถุฑูุจุฉ ูู ุนุงูู ุชุญููู ูููุงุฑูุชูุง ูุน GSNI ุนูู ููุณ ุงููุญูุฑ.
                    </div>
                </div>
                
                <div class="axis-item">
                    <div style="display: flex; align-items: center; margin-bottom: 8px;">
                        <span class="color-indicator" style="background: #e74c3c;"></span>
                        <div><strong data-key="axis_gsni">ูุคุดุฑ GSNI (ุงูุฎุท ุงูุฃุญูุฑ):</strong></div>
                    </div>
                    <div style="font-size: 0.9em; padding-right: 10px;" data-key="axis_gsni_desc">
                        ูููุงุณ ูุณุจู ุจุฏูู ูุญุฏุฉุ ุณูุฉ ุงูุฃุณุงุณ 1970 = 1.0.
                        ูุฌูุน ุฃุฑุจุนุฉ ุฃุจุนุงุฏ ููุฒููุฉ ูู ุงูููู ุงูููููุงุฆู ูุงูุฑููู.
                    </div>
                </div>
                
                <div class="axis-item">
                    <div style="display: flex; align-items: center; margin-bottom: 8px;">
                        <span class="color-indicator" style="background: #f39c12; border-bottom: 2px dashed #f39c12;"></span>
                        <div><strong data-key="axis_gold">ุณุนุฑ ุงูุฐูุจ (ุงูุฎุท ุงูุจุฑุชูุงูู ุงููุชูุทุน):</strong></div>
                    </div>
                    <div style="font-size: 0.9em; padding-right: 10px;" data-key="axis_gold_desc">
                        ููุงุณ ุจู <strong>$/ุบุฑุงู รท 10</strong> (ููุณูู ุนูู 10 ูููุงุกูุฉ ุงูุฑุณู).
                        ูุธูุฑ ุนูู ุงููุญูุฑ ุงูุฃููู.
                    </div>
                </div>
            </div>
            
            <div style="background: rgba(255, 255, 255, 0.8); padding: 10px; border-radius: 5px; margin-top: 10px; font-size: 0.9em;" data-key="chart_note">
                <strong>ููุงุญุธุฉ ุชูููุฉ:</strong> ุงููุญูุฑ ุงูุตุงุฏู ุงูุฃูุณุฑ (0-55) ูุชุณุน ูุฃุนูู ูููุฉ ููุฃุฌุฑ ุงููููู
                (50.2 ุบุฑุงู ุฐูุจ ูู 1970) ุจุนุฏ ุชุทุจูุนูุง ููุฑุณู ูุน GSNI. ุงููููุฉ ุงูุญููููุฉ ููุฃุฌุฑ ุชุธูุฑ ูู ุงูุฌุฏูู ูุงูุฃุฏุงุฉ ุงูููุจุซูุฉ.
            </div>
        </div>

        <!-- ูุคุดุฑุงุช ุณุฑูุนุฉ -->
        <div style="display: flex; justify-content: space-around; text-align: center; flex-wrap: wrap; gap: 20px; margin: 40px 0;">
            <div style="flex: 1; min-width: 200px; padding: 25px; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-radius: 12px; box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);">
                <div style="font-size: 2.8em; font-weight: bold; color: var(--accent-blue); margin-bottom: 10px;">-98.6%</div>
                <div style="font-weight: bold; color: var(--primary-blue); font-size: 1.1em;" data-key="indicator_decline">ุงูููุงุฑ ุงูุฏุฎู ุงูุญูููู</div>
                <div style="font-size: 0.9em; margin-top: 8px; opacity: 0.8;" data-key="indicator_decline_desc">ุงูุฃุฌุฑ ุงููููู ุจุงูุฐูุจ (1970-2025)</div>
            </div>
            <div style="flex: 1; min-width: 200px; padding: 25px; background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%); border-radius: 12px; box-shadow: 0 5px 15px rgba(231, 76, 60, 0.2);">
                <div style="font-size: 2.8em; font-weight: bold; color: var(--accent-red); margin-bottom: 10px;">ร42.3</div>
                <div style="font-weight: bold; color: #c0392b; font-size: 1.1em;" data-key="indicator_gsni">ุตุนูุฏ ูุคุดุฑ GSNI</div>
                <div style="font-size: 0.9em; margin-top: 8px; opacity: 0.8;" data-key="indicator_gsni_desc">ุฒูุงุฏุฉ ูุคุดุฑ ุงูููู ุงูููููุงุฆู ุงูููุญุฏ (1970-2025)</div>
            </div>
            <div style="flex: 1; min-width: 200px; padding: 25px; background: linear-gradient(135deg, #fff8e1 0%, #ffeaa7 100%); border-radius: 12px; box-shadow: 0 5px 15px rgba(243, 156, 18, 0.2);">
                <div style="font-size: 2.8em; font-weight: bold; color: var(--accent-gold); margin-bottom: 10px;">ร108</div>
                <div style="font-weight: bold; color: #d35400; font-size: 1.1em;" data-key="indicator_gold">ุงุฑุชูุงุน ุณุนุฑ ุงูุฐูุจ</div>
                <div style="font-size: 0.9em; margin-top: 8px; opacity: 0.8;" data-key="indicator_gold_desc">ุฒูุงุฏุฉ ุณุนุฑ ุบุฑุงู ุงูุฐูุจ ุจุงูุฏููุงุฑ (1970-2025)</div>
            </div>
        </div>

        <!-- ูุนุงุฏูุฉ GSNI -->
        <div class="gsni-formula">
            <h3 data-key="formula_title">๐ ุงููุนุงุฏูุฉ ุงูุฑูุงุถูุฉ ููุคุดุฑ ุงูููู ุงูููููุงุฆู ุงูููุญุฏ (GSNI)</h3>
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 1.5em; font-weight: bold; color: var(--primary-blue);">
                    GSNI<sub>t</sub> = ฮฃ (w<sub>i</sub> ร I<sub>i,t</sub>)
                </div>
            </div>
            <p style="text-align: center; margin: 15px 0;">
                <span class="dimension-label" style="background: linear-gradient(to right, #e3f2fd, #bbdefb); color: #2980b9; border: 1px solid #3498db;" data-key="w1_label">wโ = 0.35 (ุฃุฏููุฉ ูุงููููุฉ)</span>
                <span class="dimension-label" style="background: linear-gradient(to right, #e8f5e9, #c8e6c9); color: #27ae60; border: 1px solid #2ecc71;" data-key="w2_label">wโ = 0.30 (ููู ุฑููู)</span>
                <span class="dimension-label" style="background: linear-gradient(to right, #f3e5f5, #e1bee7); color: #8e44ad; border: 1px solid #9b59b6;" data-key="w3_label">wโ = 0.25 (ูุฎุฏุฑุงุช ุบูุฑ ูุดุฑูุนุฉ)</span>
                <span class="dimension-label" style="background: linear-gradient(to right, #fff8e1, #ffeaa7); color: #d35400; border: 1px solid #f39c12;" data-key="w4_label">wโ = 0.10 (ููู ุบุฐุงุฆู)</span>
            </p>
            <p class="footnote" style="text-align: center; margin-top: 10px;" data-key="formula_footnote">
                ุญูุซ: I<sub>i,t</sub> = ูุคุดุฑ ุงูุจุนุฏ i ูู ุงูุณูุฉ t (ูููุณ ุณูููุฉ ุงููุตูู ูุงูุงูุชุดุงุฑ) | w<sub>i</sub> = ุงููุฒู ุงููุณุจู ููุจุนุฏ
            </p>
        </div>

        <!-- ุฌุฏูู ุงูุจูุงูุงุช -->
        <h2 data-key="table_title">๐ ุงูุฌุฏูู ุงูุดุงูู: ุจูุงูุงุช ุงูุฃุฌุฑ ุงููููู ุงูุญูููู ุจุงูุฐูุจ ููุคุดุฑ GSNI (1970-2025)</h2>
        <div class="highlight-box">
            <table>
                <thead>
                    <tr>
                        <th data-key="th_year">ุงูุณูุฉ</th>
                        <th data-key="th_gold_price">ุณุนุฑ ุงูุฐูุจ<br>($/ุฃููุตุฉ)</th>
                        <th data-key="th_daily_wage">ุงูุฃุฌุฑ ุงููููู<br>(ุบุฑุงู ุฐูุจ)</th>
                        <th data-key="th_gsni">ูุคุดุฑ GSNI</th>
                        <th data-key="th_ratio">ุงููุณุจุฉ<br>GSNI/ุงูุฃุฌุฑ ุงููููู</th>
                        <th data-key="th_remaining">ุงููููุฉ ุงูุญููููุฉ<br>ุงููุชุจููุฉ</th>
                    </tr>
                </thead>
                <tbody id="dataTableBody">
                    <!-- ุณูุชู ููุคู ุจูุงุณุทุฉ JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- ุงูุงุณุชูุชุงุฌุงุช -->
        <div class="conclusion">
            <h3 data-key="conclusion_title">๐ ุงูุงุณุชูุชุงุฌุงุช ุงูุฑูุงุถูุฉ ุงููุงุทุนุฉ</h3>
            <p data-key="conclusion_1"><strong>1. ูุงุฑุซุฉ ุงููููุฉ ุงูุญููููุฉ:</strong> ุงูุฎูุงุถ ุงูุฃุฌุฑ ุงููููู ุงูุญูููู ูู <strong>50.2 ุบุฑุงู ุฐูุจ</strong> (1970) ุฅูู <strong>0.72 ุบุฑุงู ุฐูุจ</strong> ููุท (2025).</p>
            <p data-key="conclusion_2"><strong>2. ูุณุจุฉ ุงูุงูููุงุฑ:</strong> ููุฏุงู <strong>98.6%</strong> ูู ุงููููุฉ ุงูุญููููุฉ ููุฃุฌุฑ ุฎูุงู 55 ุณูุฉ.</p>
            <p data-key="conclusion_3"><strong>3. ุขููุฉ ุงูุชุนููุถ ุงููุชุณุงุฑุนุฉ:</strong> ุตุนูุฏ ูุคุดุฑ GSNI ูู <strong>1.0</strong> ุฅูู <strong>42.3</strong> (ุฒูุงุฏุฉ 4130%).</p>
            <p data-key="conclusion_4"><strong>4. ุงูุตุฏูุฉ ุงูุฑูุงุถูุฉ:</strong> ูู 1970ุ ูุงู ุงูุฃุฌุฑ ุงููููู ูุณุงูู <strong>50 ุถุนู</strong> ูุญุฏุฉ GSNI. ูู 2025ุ ุฃุตุจุญ GSNI ูุณุงูู <strong>58.75 ุถุนู</strong> ุงูุฃุฌุฑ ุงููููู.</p>
            <p data-key="conclusion_5"><strong>5. ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</strong> ููู 1% ููุฏุงู ูู ุงูุฃุฌุฑ ุงูุญููููุ ููุงู <strong>42 ูุญุฏุฉ ููู ููููุงุฆู</strong> ุฅุถุงููุฉ.</p>
        </div>

        <!-- ================== ูุณู ูููุฌูุฉ GSNI ุงูุฌุฏูุฏ ================== -->
        <div class="methodology-section" id="gsni-methodology">
            <h2 data-key="methodology_title">๐ฌ ุงููููุฌูุฉ ุงูุนูููุฉ: ุชุนุฑูู ูุจูุงุก ูุคุดุฑ GSNI ุงูุนุงููู</h2>
            <p class="subtitle" data-key="methodology_subtitle">Gold-Standard Narcotization Index | ูุคุดุฑ ุงูุชุฎุฏูุฑ ุงููุนูุงุฑู ุจุงูุฐูุจ</p>

            <div class="highlight-box">
                <h3 data-key="target_title">๐ฏ ุงููุฏู ูู ุงููุคุดุฑ</h3>
                <p data-key="target_text">ููุนุฏ ูุคุดุฑ <strong>GSNI</strong> ุฃุฏุงุฉ ููุงุณ ูููุฉ ูุตููุฉ ูููุงุณ <strong>ูุนุงููุฉ ูููุงุกุฉ "ุขููุฉ ุงูุชุนููุถ ุงููููู"</strong> ุงูุชู ุชูุชุดุฑ ูู ุงููุฌุชูุนุงุช ุงูุญุฏูุซุฉ. ูุง ูููุณ ุงููุคุดุฑ ุงูุชูููุฉ ุงููุทููุฉ ูููููุ ุจู ูููุณ <strong>ุณูููุฉ ูุตูู ุงูุฃูุฑุงุฏ ุฅููู ููุงุจููุชู ููุงูุชุดุงุฑ</strong> ุจูุงุกู ุนูู ุงูุฎูุงุถ ุชูููุชู ุงูุญููููุฉ ููุงุณุฉ ุจุงูุฐูุจ.</p>

                <div class="key-finding">
                    <h4 data-key="hypothesis_title">๐ก ุงููุฑุถูุฉ ุงููุฑูุฒูุฉ ูููุคุดุฑ:</h4>
                    <p data-key="hypothesis_text">"ูููุง ุงูุฎูุถุช ุงูุชูููุฉ ุงูุญููููุฉ (ุงูููุงุณุฉ ุจุงูุฐูุจ) ูุฃุฏูุงุช ุงูููู ุงูููููุงุฆู/ุงูุฑูููุ ุฒุงุฏุช ูุฏุฑุชูุง ุนูู ุงูุงูุชุดุงุฑ ููุนุงููุชูุง ูุขููุฉ ุชุนููุถ ูุฌุชูุนู ุนู ุงูููุงุฑ ุงููููุฉ ุงูุงูุชุตุงุฏูุฉ ุงูุญููููุฉ."</p>
                </div>
            </div>
            
            <!-- ุงููุฎุทุท ุงูุฏุงุฆุฑู ุงูุชูุงุนูู ูููุณุจ - ุงูุฅุตุฏุงุฑ ุงููุตุญุญ -->
            <div style="display: flex; flex-wrap: wrap; gap: 30px; align-items: center; margin: 30px 0;">
                <div style="flex: 1; min-width: 300px;">
                    <h3 data-key="components_title">๐งฉ ููููุงุช ุงููุคุดุฑ ูุฃูุฒุงููุง ุงููุณุจูุฉ</h3>
                    <p data-key="components_text">ุชู ุชุญุฏูุฏ ุงูุฃูุฒุงู ุงููุณุจูุฉ ุจูุงุกู ุนูู ุชุญููู <strong>ุงูุชุฃุซูุฑ ุงููุฌุชูุนู ุงูุชุฑุงููู</strong> ูุณูููุฉ ุงูุงูุชุดุงุฑ ููู ููุงุฉ ูู ูููุงุช ุงูููู:</p>
                    
                    <div style="margin: 20px 0;">
                        <div class="dimension-breakdown">
                            <div class="dimension-item" style="background: linear-gradient(to right, #e3f2fd, #bbdefb); border-left-color: #3498db;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <strong data-key="comp_legal_drugs">ุงูุฃุฏููุฉ ุงููุงููููุฉ (35%)</strong>
                                        <p style="margin: 5px 0 0 0; font-size: 0.9em; color: #555;" data-key="comp_legal_drugs_desc">ุงูุชุฎุฏูุฑ "ุงููููู" ููููู ุงููุงุชุฌ ุนู ุงูููุงุฑ ุงููููุฉุ ูุงูุฃูุซุฑ ูุจููุงู ุงุฌุชูุงุนูุงู.</p>
                                    </div>
                                    <div style="background: #3498db; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold;">35%</div>
                                </div>
                            </div>

                            <div class="dimension-item" style="background: linear-gradient(to right, #e8f5e9, #c8e6c9); border-left-color: #27ae60;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <strong data-key="comp_digital_illusion">ุงูููู ุงูุฑููู (30%)</strong>
                                        <p style="margin: 5px 0 0 0; font-size: 0.9em; color: #555;" data-key="comp_digital_illusion_desc">"ุชุณููู ุงูุฒูู" ุนุจุฑ ุฅููุงุก ูุนุงู ูููุฎูุถ ุงูุชูููุฉ ุจุดูู ูุชุฒุงูุฏ.</p>
                                    </div>
                                    <div style="background: #27ae60; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold;">30%</div>
                                </div>
                            </div>

                            <div class="dimension-item" style="background: linear-gradient(to right, #f3e5f5, #e1bee7); border-left-color: #9b59b6;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <strong data-key="comp_illegal_drugs">ุงููุฎุฏุฑุงุช ุบูุฑ ุงููุดุฑูุนุฉ (25%)</strong>
                                        <p style="margin: 5px 0 0 0; font-size: 0.9em; color: #555;" data-key="comp_illegal_drugs_desc">ููุงุฉ ุงููุฑูุจ ุงูููุงุฆูุฉ ูููุณุชูุฒููู ุงูุชุตุงุฏูุงูุ ุจุชูููุฉ ุญููููุฉ ูุชูุงูุตุฉ.</p>
                                    </div>
                                    <div style="background: #9b59b6; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold;">25%</div>
                                </div>
                            </div>

                            <div class="dimension-item" style="background: linear-gradient(to right, #fff8e1, #ffeaa7); border-left-color: #f39c12;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <strong data-key="comp_food_illusion">ุงูููู ุงูุบุฐุงุฆู (ุณูุฑ/ูุนุงูุฌุงุช) (10%)</strong>
                                        <p style="margin: 5px 0 0 0; font-size: 0.9em; color: #555;" data-key="comp_food_illusion_desc">ุฃุณุงุณ ุงูุชุฎุฏูุฑ ุงููููู ุงููุฌุชูุนูุ ุงูุฃุฑุฎุต ุชุงุฑูุฎูุงู ูุงูุฃูุซุฑ ุงูุชุดุงุฑุงู.</p>
                                    </div>
                                    <div style="background: #f39c12; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold;">10%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ุงููุณู ุงููุตุญุญ ูููุฎุทุท ุงูุฏุงุฆุฑู -->
                <div class="fixed-chart-container">
                    <h4 data-key="pie_chart_title">ุงูุชูุฒูุน ุงููุณุจู ูููููุงุช GSNI</h4>
                    <div class="fixed-canvas-wrapper">
                        <canvas id="gsniPieChart"></canvas>
                    </div>
                    <p class="footnote" data-key="pie_chart_note">ูุฌููุน ุงูุฃูุฒุงู = 100% | ุชูุซู ุงููุณุจุฉ ุงูุชุฃุซูุฑ ุงููุฌุชูุนู ุงููุณุจู</p>
                </div>
            </div>
            
            <!-- ุงููุนุงุฏูุฉ ุงูุฑูุงุถูุฉ ุงูุชูุตูููุฉ -->
            <div class="gsni-formula">
                <h3 data-key="full_formula_title">๐ ุงูุตูุบุฉ ุงูุฑูุงุถูุฉ ุงููุงููุฉ ููุคุดุฑ GSNI</h3>

                <div style="text-align: center; margin: 25px 0; padding: 20px; background: rgba(255,255,255,0.7); border-radius: 10px;">
                    <div style="font-size: 1.8em; font-weight: bold; color: var(--primary-blue); margin-bottom: 10px;">
                        GSNI<sub>t</sub> = ฮฃ (w<sub>i</sub> ร I<sub>i,t</sub>)
                    </div>
                    <div style="font-size: 1.2em; margin-top: 15px;" data-key="formula_where">
                        ุญูุซ:
                        <div style="display: inline-block; text-align: left; margin-top: 10px;">
                            <div data-key="formula_gsni_t">โข <strong>GSNI<sub>t</sub></strong>: ูููุฉ ุงููุคุดุฑ ูู ุงูุณูุฉ <em>t</em></div>
                            <div data-key="formula_wi">โข <strong>w<sub>i</sub></strong>: ุงููุฒู ุงููุณุจู ููุจูุนุฏ <em>i</em> (ููุง ูู ุงูุฌุฏูู ุฃุนูุงู)</div>
                            <div data-key="formula_iit">โข <strong>I<sub>i,t</sub></strong>: ูุคุดุฑ ุงูุจูุนุฏ <em>i</em> ูู ุงูุณูุฉ <em>t</em>ุ ูููุญุณุจ ูุงูุชุงูู:</div>
                            <div style="margin-left: 20px; font-size: 1em;" data-key="formula_calc">
                                I<sub>i,t</sub> = (ุงููููุฉ ุงููุชุงุญุฉ ุฃู ูุนุฏู ุงูุงูุชุดุงุฑ ูู ุงูุณูุฉ <em>t</em>) รท (ุงููููุฉ ุงููุชุงุญุฉ ูู ุงูุณูุฉ ุงูุฃุณุงุณ)
                            </div>
                        </div>
                    </div>
                </div>

                <h4 data-key="example_title">๐งฎ ูุซุงู ุชุทุจููู ูุญุณุงุจ ูุคุดุฑ ุจูุนุฏ ุงูุฃุฏููุฉ (2010):</h4>
                <div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd; margin: 15px 0;">
                    <p data-key="example_text_1">ุฅุฐุง ูุงู <strong>ุณุนุฑ ุญุจุฉ ุฏูุงุก ุดุงุฆุนุฉ ูู 1990</strong> ูุนุงุฏู <strong>0.05 ุบุฑุงู ุฐูุจ</strong>ุ</p>
                    <p data-key="example_text_2">ูุฃุตุจุญ <strong>ููุณ ุงูุฏูุงุก ูู 2010</strong> ูุนุงุฏู <strong>0.01 ุบุฑุงู ุฐูุจ</strong> ููุทุ</p>
                    <p data-key="example_text_3">ูุฅู: <strong>I<sub>ุฃุฏููุฉ, 2010</sub> = 0.05 รท 0.01 = 5</strong></p>
                    <p data-key="example_text_4">ุจูุนูู: ุฃุตุจุญ ุงูุฏูุงุก <strong>ุฃุฑุฎุต 5 ูุฑุงุช</strong> (ููุงุณุฉ ุจุงูุฐูุจ)ุ ูุจุงูุชุงูู <strong>ุฃูุซุฑ ูุงุจููุฉ ููุงูุชุดุงุฑ 5 ุฃุถุนุงู</strong>.</p>
                </div>
            </div>
            
            <!-- ุญุฏูุฏ ุงููุคุดุฑ ูุชุญุฐูุฑุงุช -->
            <div class="alert-box">
                <h3 data-key="alerts_title">โ๏ธ ุญุฏูุฏ ุงููุคุดุฑ ูุงูุชุญุฐูุฑุงุช ุงููููุฌูุฉ</h3>

                <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 15px;">
                    <div style="flex: 1; min-width: 200px; padding: 15px; background: rgba(255,255,255,0.7); border-radius: 8px;">
                        <div style="font-weight: bold; color: var(--accent-blue);" data-key="alert_data_title">๐ ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ</div>
                        <p data-key="alert_data_text">ุฌูุฏุฉ ุงููุคุดุฑ ุชุนุชูุฏ ุนูู ุชููุฑ ุจูุงูุงุช ุชุงุฑูุฎูุฉ ุฏูููุฉ ูุฃุณุนุงุฑ ุงูุณูุน ูุงูุงุณุชููุงูุ ูุงูุชู ูุฏ ุชููู ูุงูุตุฉ ูุจุนุถ ุงููุชุฑุงุช ุฃู ุงูููุงุทู.</p>
                    </div>

                    <div style="flex: 1; min-width: 200px; padding: 15px; background: rgba(255,255,255,0.7); border-radius: 8px;">
                        <div style="font-weight: bold; color: var(--accent-red);" data-key="alert_geo_title">๐ ุงูุชุนููู ุงูุฌุบุฑุงูู</div>
                        <p data-key="alert_geo_text">ุงูุจูุงูุงุช ุงูุญุงููุฉ ุชุฑูุฒ ุนูู ุงูููุงูุงุช ุงููุชุญุฏุฉ ูู "ูุฎุชุจุฑ" ููุขููุฉ. ุชุนููู ุงููุชุงุฆุฌ ุนูู ูุฌุชูุนุงุช ุฃุฎุฑู ูุญุชุงุฌ ูุชุนุฏูู ุงูุฃูุฒุงู ุจูุงุกู ุนูู ุงูุณูุงู ุงูุซูุงูู ูุงูุงูุชุตุงุฏู.</p>
                    </div>

                    <div style="flex: 1; min-width: 200px; padding: 15px; background: rgba(255,255,255,0.7); border-radius: 8px;">
                        <div style="font-weight: bold; color: var(--accent-gold);" data-key="alert_improve_title">๐ ุงููุงุจููุฉ ููุชุญุณูู</div>
                        <p data-key="alert_improve_text">ูุฐุง ุงููุคุดุฑ ูู <strong>ูููุฐุฌ ุฃููู ููู</strong> ููุฏู ูุฅุซุงุฑุฉ ุงูููุงุด ููุถุน ุฅุทุงุฑ ููููุงุณ. ุงูุฃูุฒุงู ูุงูููููุงุช ูุงุจูุฉ ููุชุนุฏูู ูุงูุชุทููุฑ ูู ูุจู ุงูุจุงุญุซูู.</p>
                    </div>
                </div>

                <p style="margin-top: 15px;" data-key="pledge"><strong>ุงูุชุนูุฏ ุงููููุฌู:</strong> ุณูุชู ุชุญุฏูุซ ุฃูุฒุงู ูุนูุงุตุฑ ุงููุคุดุฑ ุนููุงู ูุน ุชูุฏู ุงูุจุญุซ ููุดุฑ ุจูุงูุงุช ุฌุฏูุฏุฉุ ูุน ุงูุฅุจูุงุก ุนูู ุงูุดูุงููุฉ ุงููุงููุฉ ุญูู ุฃู ุชุบููุฑ.</p>
            </div>
        </div>
        <!-- ================== ููุงูุฉ ูุณู ูููุฌูุฉ GSNI ================== -->

        <!-- ุชุฐููู ุงูุตูุญุฉ -->
        <div class="footnote" style="text-align: center; margin-top: 50px; padding-top: 20px; border-top: 1px solid #eee;">
            <p data-key="acknowledgment_title">๐ค ุงูุงุนุชุฑุงู ุจุงูุชุนุงูู ุงูุชููู</p>
            <p data-key="acknowledgment_text">ุชู ุงุณุชุฎุฑุงุฌ ููุนุงูุฌุฉ ูุฐู ุงูุจูุงูุงุช ูุจูุงุก ุงููููุฐุฌ ุงูุฑูุงุถู ููุคุดุฑ GSNI ุจุงูุชุนุงูู ูุน ูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู Geminiุ ูุถูุงู ุงูุฏูุฉ ุงูุฅุญุตุงุฆูุฉ ูุงูุฑุจุท ุงูููุถูุนู ุจูู ุงูุฃุณูุงู ุงููุงููุฉ ุงูุนุงูููุฉ ูุงูุจูุงูุงุช ุงูุจููููุฌูุฉ ูุงูุงุฌุชูุงุนูุฉ.</p>
            <p data-key="footer_design">ุชู ุชุตููู ูุฐุง ุงููููุฐุฌ ุงูุฑูุงุถู ุงูุฏููู ุจููุณ ูููุฌูุฉ ูููุน <a href="https://mrt-alqarm.github.io/GoldOilp_us/" target="_blank" style="color: #3498db; text-decoration: none; font-weight: bold;" data-key="footer_link_text">"ุขููุฉ ุงูุฎุณุงุฑุฉ ุงูุนุงูููุฉ ูููููุฉ ุงูุญููููุฉ"</a>.</p>
            <p data-key="footer_gsni">๐ <strong>GSNI = Gold-Standard Narcotization Index</strong> | ูุคุดุฑ ุงูุชุฎุฏูุฑ ุงููุนูุงุฑู ุจุงูุฐูุจ</p>
            <p data-key="footer_update">๐ <strong>ุขุฎุฑ ุชุญุฏูุซ ููุจูุงูุงุช:</strong> ุฏูุณูุจุฑ 2024 | <strong>ุงูุฅุตุฏุงุฑ:</strong> 2.1 (ุจูููุฌูุฉ ููุณุนุฉ)</p>
            <p data-key="footer_note">๐ <strong>ููุงุญุธุฉ ูููุฌูุฉ:</strong> ุฌููุน ุงูุญุณุงุจุงุช ูุนุชูุฏุฉ ุนูู ุงูุฐูุจ ููุฑุฌุน ูููู ุซุงุจุช. ุงูููู ุงููุงููุฉ ููููุฉ ุจุงูุฏููุงุฑ ุงูุฃูุฑููู ููุฃุบุฑุงุถ ุงูุชูุซูููุฉ ููุท.</p>
        </div>
    </div>

    <script>
        // ================== ุงูุจูุงูุงุช ุงููุตุญุญุฉ ุฑูุงุถูุงู (ูุน ุงูุฏุฎู ุงููููู) ==================
        const dailyWageData = [
            // ุงูุณูุฉ, ุณุนุฑ ุงูุฐูุจ/ุฃููุตุฉ ($), ุงูุฃุฌุฑ ุงูุฃุณุจูุนู (ุบุฑุงู ุฐูุจ), ุงูุฃุฌุฑ ุงููููู (ุบุฑุงู ุฐูุจ), GSNI
            { year: 1970, goldPerOz: 38.9, weeklyWageGold: 251.0, dailyWageGold: 50.2, gsni: 1.0 },
            { year: 1980, goldPerOz: 594.9, weeklyWageGold: 16.4, dailyWageGold: 3.28, gsni: 1.5 },
            { year: 1990, goldPerOz: 386.0, weeklyWageGold: 26.5, dailyWageGold: 5.3, gsni: 1.15 },
            { year: 1998, goldPerOz: 288.5, weeklyWageGold: 38.9, dailyWageGold: 7.78, gsni: 2.0 },
            { year: 2000, goldPerOz: 272.0, weeklyWageGold: 40.0, dailyWageGold: 8.0, gsni: 2.6 },
            { year: 2008, goldPerOz: 869.75, weeklyWageGold: 14.4, dailyWageGold: 2.88, gsni: 9.0 },
            { year: 2010, goldPerOz: 1225.0, weeklyWageGold: 9.9, dailyWageGold: 1.98, gsni: 9.45 },
            { year: 2015, goldPerOz: 1060.0, weeklyWageGold: 11.2, dailyWageGold: 2.24, gsni: 13.8 },
            { year: 2020, goldPerOz: 1877.1, weeklyWageGold: 6.6, dailyWageGold: 1.32, gsni: 21.2 },
            { year: 2025, goldPerOz: 4207.2, weeklyWageGold: 3.6, dailyWageGold: 0.72, gsni: 42.3 }
        ];

        // ================== ุฏุงูุฉ ููุญุตูู ุนูู ุงูุชุฑุฌูุฉ ุงูุญุงููุฉ ==================
        function getLang() {
            return translations[currentLang] || translations['ar'] || {};
        }

        // ================== ููุก ุงูุฌุฏูู ==================
        function populateTable() {
            const tableBody = document.getElementById('dataTableBody');
            tableBody.innerHTML = '';
            
            dailyWageData.forEach(d => {
                // ุญุณุงุจ ุงููุณุจุฉ GSNI/ุงูุฃุฌุฑ ุงููููู
                const gsniToWageRatio = (d.gsni / d.dailyWageGold).toFixed(1);
                
                // ุญุณุงุจ ุงููููุฉ ุงููุชุจููุฉ (1970 = 100%)
                const baseWage = dailyWageData[0].dailyWageGold;
                const remainingValue = (d.dailyWageGold / baseWage * 100).toFixed(1);
                
                const row = document.createElement('tr');
                
                // ุชูููู ุงูุตููู ุญุณุจ ุงูุณูุฉ
                let rowColor = '#ffffff';
                if (d.year === 1970) rowColor = '#e3f2fd';
                if (d.year === 2000) rowColor = '#fff8e1';
                if (d.year === 2008) rowColor = '#ffebee';
                if (d.year === 2025) rowColor = '#f3e5f5';
                
                row.style.backgroundColor = rowColor;
                const unit = getLang().unit_gram || 'ุบุฑุงู';
                console.log('currentLang:', currentLang, 'unit:', unit);
                row.innerHTML = `
                    <td><strong>${d.year}</strong></td>
                    <td>${d.goldPerOz.toFixed(1)}</td>
                    <td><strong>${d.dailyWageGold.toFixed(2)}</strong> ${unit}</td>
                    <td style="font-weight: bold; color: ${d.gsni > 20 ? '#e74c3c' : (d.gsni > 10 ? '#e67e22' : '#2c3e50')}">
                        ${d.gsni.toFixed(2)}
                    </td>
                    <td style="background: ${gsniToWageRatio > 50 ? '#ffebee' : (gsniToWageRatio > 10 ? '#fff8e1' : '#e8f5e9')}; font-weight: bold; color: ${gsniToWageRatio > 50 ? '#c0392b' : '#2c3e50'}">
                        ${gsniToWageRatio}
                    </td>
                    <td style="font-weight: bold; color: ${remainingValue < 10 ? '#e74c3c' : (remainingValue < 50 ? '#f39c12' : '#27ae60')}">
                        ${remainingValue}%
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ================== ุงูุฑุณู ุงูุจูุงูู ุงูุฑุฆูุณู ==================
        function renderMainChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');
            const years = dailyWageData.map(d => d.year);
            
            // ุงูุจูุงูุงุช ุงูุญููููุฉ ููุง ูู
            const goldPriceData = dailyWageData.map(d => (d.goldPerOz / 31.1035) / 10);
            const gsniData = dailyWageData.map(d => d.gsni);
            const wageData = dailyWageData.map(d => d.dailyWageGold);
            
            window.mainChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'ุณุนุฑ ุงูุฐูุจ ($/ุบุฑุงู รท 10)',
                            data: goldPriceData,
                            borderColor: '#f39c12',
                            backgroundColor: 'rgba(243, 156, 18, 0.1)',
                            borderWidth: 3,
                            tension: 0.4,
                            yAxisID: 'y-right',
                            pointRadius: 6,
                            pointHoverRadius: 10,
                            pointBackgroundColor: '#f39c12',
                            borderDash: [5, 5]
                        },
                        {
                            label: 'ูุคุดุฑ GSNI',
                            data: gsniData,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 3,
                            tension: 0.4,
                            yAxisID: 'y-left',
                            pointRadius: 6,
                            pointHoverRadius: 10,
                            pointBackgroundColor: '#e74c3c'
                        },
                        {
                            label: 'ุงูุฃุฌุฑ ุงููููู (ุบุฑุงู ุฐูุจ)',
                            data: wageData, // โฌ๏ธ ุงููููุฉ ุงูุญููููุฉ: 50.2 ูู 1970
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            tension: 0.3,
                            yAxisID: 'y-left', // โฌ๏ธ ููุณ ูุญูุฑ GSNI
                            pointRadius: 6,
                            pointHoverRadius: 10,
                            pointBackgroundColor: '#3498db'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'index', intersect: false },
                    plugins: {
                        legend: { 
                            position: 'top', 
                            rtl: true, 
                            labels: { 
                                padding: 20, 
                                usePointStyle: true,
                                font: { size: 13, weight: 'bold' }
                            }
                        },
                        tooltip: {
                            rtl: true,
                            backgroundColor: 'rgba(0, 0, 0, 0.85)',
                            titleFont: { size: 13, weight: 'bold' },
                            bodyFont: { size: 12 },
                            padding: 12,
                            cornerRadius: 8,
                            callbacks: {
                                label: function(context) {
                                    const yearIndex = context.dataIndex;
                                    const yearData = dailyWageData[yearIndex];
                                    
                                    if (context.datasetIndex === 0) {
                                        const goldPerGram = yearData.goldPerOz / 31.1035;
                                        return `ุณุนุฑ ุงูุฐูุจ: $${goldPerGram.toFixed(2)}/ุบุฑุงู`;
                                    } else if (context.datasetIndex === 1) {
                                        return `ูุคุดุฑ GSNI: ${context.parsed.y.toFixed(2)}`;
                                    } else {
                                        const gsniToWageRatio = (yearData.gsni / yearData.dailyWageGold).toFixed(1);
                                        return `ุงูุฃุฌุฑ ุงููููู: ${context.parsed.y.toFixed(2)} ุบุฑุงู ุฐูุจ (GSNI ุฃุนูู ุจู ${gsniToWageRatio}ร)`;
                                    }
                                }
                            }
                        }
                    },
                    scales: {
                        x: { 
                            title: { 
                                display: true, 
                                text: 'ุงูุณูุฉ', 
                                font: { size: 14, weight: 'bold', color: '#2c3e50' } 
                            },
                            grid: { 
                                color: 'rgba(0,0,0,0.05)' 
                            }
                        },
                        'y-left': {
                            type: 'linear',
                            position: 'left',
                            title: { 
                                display: true, 
                                text: 'ุงูุฃุฌุฑ ุงููููู (ุบุฑุงู ุฐูุจ) | ูุคุดุฑ GSNI', 
                                font: { size: 12, weight: 'bold', color: '#2c3e50' } 
                            },
                            min: 0,
                            max: 55,
                            grid: { 
                                color: 'rgba(0,0,0,0.05)' 
                            },
                            ticks: {
                                callback: function(value) {
                                    if (value === 0) return '0';
                                    if (value === 10) return '10';
                                    if (value === 20) return '20';
                                    if (value === 30) return '30';
                                    if (value === 40) return '40';
                                    if (value === 50) return '50 ุบ/ุฐ';
                                    if (value === 55) return '55';
                                    return value.toFixed(0);
                                },
                                font: { size: 11 }
                            }
                        },
                        'y-right': {
                            type: 'linear',
                            position: 'right',
                            title: { 
                                display: true, 
                                text: 'ุณุนุฑ ุงูุฐูุจ ($/ุบุฑุงู รท 10)', 
                                font: { size: 12, weight: 'bold', color: '#f39c12' } 
                            },
                            min: 0,
                            max: 15,
                            grid: {
                                drawOnChartArea: false
                            },
                            ticks: {
                                color: '#f39c12',
                                callback: function(value) {
                                    return value.toFixed(1);
                                }
                            }
                        }
                    }
                }
            });
            
            // ุชุฃููุฏ ุฃู ุงูููู ุงูุญููููุฉ ุชูุนุฑุถ
            console.log('โ ุงูุชุฃูุฏ ูู ุงูููู ุงูุญููููุฉ:');
            console.log(`- 1970: ุงูุฃุฌุฑ ุงููููู = ${dailyWageData[0].dailyWageGold} ุบุฑุงู ุฐูุจ`);
            console.log(`- 1970: GSNI = ${dailyWageData[0].gsni}`);
            console.log(`- 2025: ุงูุฃุฌุฑ ุงููููู = ${dailyWageData[dailyWageData.length-1].dailyWageGold} ุบุฑุงู ุฐูุจ`);
            console.log(`- 2025: GSNI = ${dailyWageData[dailyWageData.length-1].gsni}`);
        }

        // ================== ุฑุณู ูุฎุทุท ุฏุงุฆุฑู ูููููุงุช GSNI - ุงูุฅุตุฏุงุฑ ุงููุตุญุญ ==================
        function renderGSNIPieChart() {
            const canvas = document.getElementById('gsniPieChart');
            if (!canvas) return;

            // ุชุฏููุฑ ุงูุฑุณู ุงูุจูุงูู ุงูุณุงุจู ุฅุฐุง ูุงู ููุฌูุฏุงู
            if (gsniPieChart) {
                gsniPieChart.destroy();
            }

            const ctx = canvas.getContext('2d');

            // ุชุนููู ุฃุจุนุงุฏ ุซุงุจุชุฉ ููู Canvas
            canvas.width = 300;
            canvas.height = 250;

            // ุจูุงูุงุช ุงููุฎุทุท ุงูุฏุงุฆุฑู ูุน ููุงุชูุญ ุงูุชุฑุฌูุฉ
            const gsniComponents = [
                { labelKey: 'comp_legal_drugs', value: 35, color: '#3498db' },
                { labelKey: 'comp_digital_illusion', value: 30, color: '#27ae60' },
                { labelKey: 'comp_illegal_drugs', value: 25, color: '#9b59b6' },
                { labelKey: 'comp_food_illusion', value: 10, color: '#f39c12' }
            ];

            // ุงุณุชุฎุฏุงู ุงูุชุฑุฌูุฉ ููุญุตูู ุนูู ุงููุตูุต
            const t = getLang();
            const translatedComponents = gsniComponents.map(comp => ({
                ...comp,
                label: t[comp.labelKey] || comp.labelKey
            }));

            gsniPieChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: translatedComponents.map(item => item.label),
                    datasets: [{
                        data: translatedComponents.map(item => item.value),
                        backgroundColor: translatedComponents.map(item => item.color),
                        borderWidth: 2,
                        borderColor: '#ffffff',
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                padding: 15,
                                usePointStyle: true,
                                font: { size: 12 },
                                boxWidth: 12
                            }
                        },
                        tooltip: {
                            rtl: true,
                            backgroundColor: 'rgba(0, 0, 0, 0.85)',
                            titleFont: { size: 13 },
                            bodyFont: { size: 12 },
                            padding: 10,
                            cornerRadius: 6,
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    const t = getLang();
                                    return `${label}: ${value}% (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '50%',
                    animation: {
                        animateScale: true,
                        animateRotate: true
                    }
                }
            });
        }

        // ================== ูุธุงู ุงูุชุฑุฌูุฉ ==================
        let currentLang = 'ar';
        let translations = {};
        let gsniPieChart = null;

        // ุชุญููู ุงูุชุฑุฌูุงุช
        fetch('languages.json')
            .then(response => response.json())
            .then(data => {
                translations = data;
                updateLanguage(currentLang);
            })
            .catch(error => console.error('Error loading translations:', error));

        // ุชุญุฏูุซ ุงููุบุฉ
        function updateLanguage(lang) {
            currentLang = lang;

            // ุชุญุฏูุซ ุงููุตูุต ูู ุงูุตูุญุฉ
            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });

            // ุชุญุฏูุซ ุงูุฑุณูู ุงูุจูุงููุฉ
            if (window.mainChart) {
                const t = translations[lang] || {};

                // ุชุญุฏูุซ ุชุณููุงุช ุงูุจูุงูุงุช
                window.mainChart.data.datasets[0].label = t.chart_label_gold || 'ุณุนุฑ ุงูุฐูุจ ($/ุบุฑุงู รท 10)';
                window.mainChart.data.datasets[1].label = t.chart_label_gsni || 'ูุคุดุฑ GSNI';
                window.mainChart.data.datasets[2].label = t.chart_label_wage || 'ุงูุฃุฌุฑ ุงููููู (ุบุฑุงู ุฐูุจ)';

                // ุชุญุฏูุซ ุนูุงููู ุงููุญุงูุฑ
                window.mainChart.options.scales.x.title.text = t.x_title || 'ุงูุณูุฉ';
                window.mainChart.options.scales['y-left'].title.text = t.y_real_title || 'ุงูุฃุฌุฑ ุงููููู (ุบุฑุงู ุฐูุจ) | ูุคุดุฑ GSNI';
                window.mainChart.options.scales['y-right'].title.text = t.y_compressed_title || 'ุณุนุฑ ุงูุฐูุจ ($/ุบุฑุงู รท 10)';

                // ุชุญุฏูุซ ุฃุฏุงุฉ ุงูุชูููุญ
                window.mainChart.options.plugins.tooltip.callbacks.label = function(context) {
                    const yearIndex = context.dataIndex;
                    const yearData = dailyWageData[yearIndex];

                    if (context.datasetIndex === 0) {
                        const goldPerGram = yearData.goldPerOz / 31.1035;
                        return (t.tooltip_gold_price || 'ุณุนุฑ ุงูุฐูุจ: ') + '$' + goldPerGram.toFixed(2) + (t.tooltip_gold_suffix || '/ุบุฑุงู');
                    } else if (context.datasetIndex === 1) {
                        return (t.tooltip_gsni || 'ูุคุดุฑ GSNI: ') + context.parsed.y.toFixed(2);
                    } else {
                        const gsniToWageRatio = (yearData.gsni / yearData.dailyWageGold).toFixed(1);
                        return (t.tooltip_wage || 'ุงูุฃุฌุฑ ุงููููู: ') + context.parsed.y.toFixed(2) + (t.tooltip_wage_suffix || ' ุบุฑุงู ุฐูุจ') + (t.tooltip_gsni_higher || ' (GSNI ุฃุนูู ุจู ') + gsniToWageRatio + (t.tooltip_times || 'ร)');
                    }
                };

                window.mainChart.options.plugins.tooltip.callbacks.title = function(context) {
                    return (t.tooltip_year || 'ุงูุณูุฉ: ') + context[0].label;
                };

                window.mainChart.update();
            }

            // ุชุญุฏูุซ ุงุชุฌุงู ุงููุต
            if (lang === 'fa' || lang === 'ar') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.documentElement.setAttribute('lang', lang);
            } else {
                document.documentElement.setAttribute('dir', 'ltr');
                document.documentElement.setAttribute('lang', lang);
            }

            // ุชุญุฏูุซ ุงูุฃุฒุฑุงุฑ
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            const activeBtn = document.getElementById(`lang-${lang}`);
            if (activeBtn) activeBtn.classList.add('active');

            // ุชุญุฏูุซ ุงูุฌุฏูู ูุงููุฎุทุท ุงูุฏุงุฆุฑู
            populateTable();
            renderGSNIPieChart();
        }

        // ูุนุงูุฌุงุช ุงูุฃุฒุฑุงุฑ
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('lang-ar').addEventListener('click', () => updateLanguage('ar'));
            document.getElementById('lang-en').addEventListener('click', () => updateLanguage('en'));
            document.getElementById('lang-fa').addEventListener('click', () => updateLanguage('fa'));
            document.getElementById('lang-fr').addEventListener('click', () => updateLanguage('fr'));
            document.getElementById('lang-zh').addEventListener('click', () => updateLanguage('zh'));
        });

        // ================== ุชููุฆุฉ ุงูุตูุญุฉ ==================
        document.addEventListener('DOMContentLoaded', function() {
            populateTable();
            renderMainChart();

            // ุญุณุงุจ ุงููุคุดุฑุงุช ุงูุฅุญุตุงุฆูุฉ
            const firstWage = dailyWageData[0].dailyWageGold;
            const lastWage = dailyWageData[dailyWageData.length - 1].dailyWageGold;
            const wageDecline = ((lastWage - firstWage) / firstWage * 100).toFixed(1);

            const firstGSNI = dailyWageData[0].gsni;
            const lastGSNI = dailyWageData[dailyWageData.length - 1].gsni;
            const gsniIncrease = ((lastGSNI - firstGSNI) / firstGSNI * 100).toFixed(1);

            console.log(`โ ุชู ุชุญููู ุงููููุฐุฌ ุงูุฑูุงุถู ุงูุฏููู (ุงูุฅุตุฏุงุฑ 2.1 - ุงูุฅุตูุงุญ ุงูููุงุฆู)`);
            console.log(`๐ ุงูุฎูุงุถ ุงูุฃุฌุฑ ุงููููู ุงูุญูููู: ${wageDecline}% (1970-2025)`);
            console.log(`๐ ุฒูุงุฏุฉ ูุคุดุฑ GSNI: ${gsniIncrease}% (1970-2025)`);
            console.log(`๐งฎ ุงูุนูุงูุฉ ุงูุนูุณูุฉ: ููู 1% ุฎุณุงุฑุฉ ูู ุงูุฃุฌุฑุ ${(lastGSNI / (100-Math.abs(parseFloat(wageDecline)))).toFixed(2)} ูุญุฏุฉ GSNI ุฅุถุงููุฉ`);
        });
    </script>
</body>
</html>